"""
–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help - –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –±–æ—Ç–∞
"""
from aiogram import Router
from aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.filters import Command
from loguru import logger

router = Router()


@router.message(Command("help"))
async def cmd_help(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /help - –ø–æ–∫–∞–∑–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π"""
    try:
        help_text = (
            "üìö <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –±–æ—Ç–∞</b>\n\n"
            
            "<b>üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:</b>\n"
            "–í–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏:\n"
            "‚Ä¢ <b>üîç –ü–æ–∏—Å–∫ –ø—É–ª–æ–≤</b> - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø—É–ª–æ–≤ –ø–æ —Ç–æ–∫–µ–Ω—É —á–µ—Ä–µ–∑ –≤—Å–µ –±–ª–æ–∫—á–µ–π–Ω—ã\n"
            "‚Ä¢ <b>üî∑ –í—ã–±—Ä–∞—Ç—å –±–ª–æ–∫—á–µ–π–Ω</b> - –≤—ã–±–æ—Ä –±–ª–æ–∫—á–µ–π–Ω–∞ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—É–ª–æ–≤\n"
            "‚Ä¢ <b>üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b> - –≤–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é\n"
            "‚Ä¢ <b>üìö –°–ø—Ä–∞–≤–∫–∞</b> - —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞\n\n"
            
            "<b>üîç –ü–æ–∏—Å–∫ –ø—É–ª–æ–≤:</b>\n"
            "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>üîç –ü–æ–∏—Å–∫ –ø—É–ª–æ–≤</b> –∏ –≤–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞:\n\n"
            "<b>–ü—Ä–∏–º–µ—Ä—ã:</b>\n"
            "‚Ä¢ –í–≤–µ–¥–∏—Ç–µ <code>APT</code> - –Ω–∞–π–¥–µ—Ç –≤—Å–µ –ø—É–ª—ã —Å APT\n"
            "‚Ä¢ –í–≤–µ–¥–∏—Ç–µ <code>USDC</code> - –Ω–∞–π–¥–µ—Ç –≤—Å–µ –ø—É–ª—ã —Å USDC\n"
            "‚Ä¢ –í–≤–µ–¥–∏—Ç–µ <code>APT/USDT</code> - –ø–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–∞—Ä—ã\n\n"
            "–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤—Å–µ –±–ª–æ–∫—á–µ–π–Ω—ã (Aptos, Sui) –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã!\n\n"
            
            "<b>üî∑ –í—ã–±–æ—Ä –±–ª–æ–∫—á–µ–π–Ω–∞:</b>\n"
            "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>üî∑ –í—ã–±—Ä–∞—Ç—å –±–ª–æ–∫—á–µ–π–Ω</b> –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:\n"
            "‚Ä¢ <b>üî∑ Aptos</b> - –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –Ω–∞ Aptos (Hyperion DEX)\n"
            "‚Ä¢ <b>üîµ Sui</b> - –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –Ω–∞ Sui (Bluefin Exchange)\n\n"
            "–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –±–ª–æ–∫—á–µ–π–Ω–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:\n"
            "‚Ä¢ –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ —Å –∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (TVL, Volume 24H, Fees 24H)\n"
            "‚Ä¢ –ö–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—É–ª–æ–≤ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞\n\n"
            
            "<b>üìä –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "<code>/start</code> - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º\n"
            "<code>/help</code> - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É\n"
            "<code>/stats</code> - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä—ã–Ω–∫–∞ (Market Overview)\n\n"
            
            "<b>üèä –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—É–ª–æ–≤:</b>\n"
            "<code>/pools</code> - –¢–æ–ø 10 –ø—É–ª–æ–≤ –ø–æ TVL\n"
            "<code>/farm</code> - –ü—É–ª—ã —Å farming (—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º APR –æ—Ç —Å—Ç–µ–π–∫–∏–Ω–≥–∞)\n\n"
            
            "<b>üîé –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:</b>\n"
            "<code>/top [tvl|volume|apr|fees]</code> - –¢–æ–ø –ø—É–ª–æ–≤ –ø–æ –º–µ—Ç—Ä–∏–∫–µ\n"
            "–ü—Ä–∏–º–µ—Ä—ã:\n"
            "‚Ä¢ <code>/top tvl</code> - —Ç–æ–ø –ø–æ TVL\n"
            "‚Ä¢ <code>/top apr</code> - —Ç–æ–ø –ø–æ APR\n"
            "‚Ä¢ <code>/top volume</code> - —Ç–æ–ø –ø–æ –æ–±—ä–µ–º—É —Ç–æ—Ä–≥–æ–≤–ª–∏\n"
            "‚Ä¢ <code>/top fees</code> - —Ç–æ–ø –ø–æ –∫–æ–º–∏—Å—Å–∏—è–º\n\n"
            "<code>/pool &lt;—Ç–æ–∫–µ–Ω_a&gt;-&lt;—Ç–æ–∫–µ–Ω_b&gt;</code> - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø—É–ª–µ\n\n"
            
            "<b>üìà –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—É–ª–∞—Ö:</b>\n"
            "–ö–∞–∂–¥—ã–π –ø—É–ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:\n"
            "‚Ä¢ <b>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—ã</b> (–Ω–∞–ø—Ä–∏–º–µ—Ä: APT-USDC, USDT-USDC)\n"
            "‚Ä¢ <b>TVL</b> (Total Value Locked) - –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤ –≤ –ø—É–ª–µ\n"
            "‚Ä¢ <b>Volume 24H</b> - –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤–ª–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞\n"
            "‚Ä¢ <b>Fees 24H</b> - –∫–æ–º–∏—Å—Å–∏–∏, –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø—É–ª–æ–º –∑–∞ 24 —á–∞—Å–∞\n"
            "‚Ä¢ <b>APR</b> (Annual Percentage Rate) - –≥–æ–¥–æ–≤–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞:\n"
            "   ‚îú‚îÄ <b>Fee APR</b> - –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –æ—Ç –∫–æ–º–∏—Å—Å–∏–π\n"
            "   ‚îî‚îÄ <b>Farm APR</b> - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –æ—Ç farming (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)\n\n"
            
            "<b>üåæ –ò–∫–æ–Ω–∫–∏ –≤ –ø—É–ª–∞—Ö:</b>\n"
            "‚Ä¢ üåæ - –ø—É–ª —Å farming (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π APR –æ—Ç —Å—Ç–µ–π–∫–∏–Ω–≥–∞)\n"
            "‚Ä¢ üî• - –ø—É–ª —Å –≤—ã—Å–æ–∫–∏–º APR (>100%)\n\n"
            
            "<b>‚öôÔ∏è –§–∏–ª—å—Ç—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:</b>\n"
            "–í —Å–ø–∏—Å–∫–µ –ø—É–ª–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–Ω–æ–ø–∫–∏:\n"
            "‚Ä¢ <b>üîÑ –û–±–Ω–æ–≤–∏—Ç—å</b> - –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø—É–ª–∞—Ö\n"
            "‚Ä¢ <b>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</b> - —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:\n"
            "   ‚îú‚îÄ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–æ TVL, Volume, APR, Fees\n"
            "   ‚îî‚îÄ –§–∏–ª—å—Ç—Ä: —Ç–æ–ª—å–∫–æ –ø—É–ª—ã —Å farming\n\n"
            
            "<b>üåê –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–ª–æ–∫—á–µ–π–Ω—ã:</b>\n"
            "‚Ä¢ <b>üî∑ Aptos</b> - Hyperion DEX\n"
            "‚Ä¢ <b>üîµ Sui</b> - Bluefin Exchange\n\n"
            
            "<b>üí° –°–æ–≤–µ—Ç—ã:</b>\n"
            "‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <b>üîç –ü–æ–∏—Å–∫ –ø—É–ª–æ–≤</b> –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–æ–∫–µ–Ω—É\n"
            "‚Ä¢ –í—ã–±–∏—Ä–∞–π—Ç–µ –ø—É–ª—ã —Å –≤—ã—Å–æ–∫–∏–º TVL –¥–ª—è –±–æ–ª—å—à–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏\n"
            "‚Ä¢ –û–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ APR - —ç—Ç–æ –≤–∞—à–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å\n"
            "‚Ä¢ –ü—É–ª—ã —Å farming (üåæ) –¥–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ –æ—Ç —Å—Ç–µ–π–∫–∏–Ω–≥–∞\n"
        )
        
        await message.answer(help_text, parse_mode="HTML")
        
    except Exception as e:
        logger.error(f"Error in cmd_help: {e}")
        await message.answer("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∫–∞–∑–µ —Å–ø—Ä–∞–≤–∫–∏.")


@router.message(Command("commands"))
async def cmd_commands(message: Message):
    """–ö—Ä–∞—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥"""
    try:
        commands_text = """
‚ö° <b>–ë—ã—Å—Ç—Ä—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥:</b>

<code>/start</code> - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
<code>/help</code> - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
<code>/stats</code> - Market Overview
<code>/pools</code> - –¢–æ–ø –ø—É–ª–æ–≤
<code>/farm</code> - –ü—É–ª—ã —Å farming
<code>/top [tvl|volume|apr|fees]</code> - –¢–æ–ø –ø–æ –º–µ—Ç—Ä–∏–∫–µ
<code>/pool &lt;—Ç–æ–∫–µ–Ω_a&gt;-&lt;—Ç–æ–∫–µ–Ω_b&gt;</code> - –î–µ—Ç–∞–ª–∏ –ø—É–ª–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>/help</code> –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π.
        """
        
        # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Ç–µ–ø–µ—Ä—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ (ReplyKeyboardMarkup), –Ω–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å inline –∫–Ω–æ–ø–∫–∏
        await message.answer(commands_text, parse_mode="HTML")
        
    except Exception as e:
        logger.error(f"Error in cmd_commands: {e}")
        await message.answer("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.")

